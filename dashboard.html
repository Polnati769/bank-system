<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Dashboard | Bank Management System</title>

<link rel="stylesheet"
href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:"Segoe UI", Arial, sans-serif;}
body{display:flex;min-height:100vh;background:
linear-gradient(rgba(0,40,80,.85), rgba(0,90,150,.85)),
url("https://images.unsplash.com/photo-1556745757-8d76bdb6984b");
background-size:cover;background-attachment:fixed;}

.sidebar{width:240px;background:rgba(10,61,98,.95);color:white;padding:25px;}
.sidebar h2{text-align:center;margin-bottom:40px;}
.sidebar a{display:block;color:white;text-decoration:none;padding:14px;margin:10px 0;border-radius:10px;transition:.3s;}
.sidebar a i{margin-right:10px;}
.sidebar a:hover{background:#1e90ff;transform:translateX(6px);} 

.main{flex:1;padding:30px;color:white;}

.cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:25px;margin-bottom:35px;}
.card{background:white;color:#333;padding:25px;border-radius:18px;box-shadow:0 10px 25px rgba(0,0,0,.3);text-align:center;transition:.4s;}
.card:hover{transform:translateY(-8px) scale(1.03);} 
.card i{font-size:30px;color:#0077cc;margin-bottom:10px;}
.card h3{color:#555;margin-bottom:8px;}
.card p{font-size:1.7rem;color:#0a3d62;font-weight:bold;}

.table-card{background:white;color:#333;padding:25px;border-radius:18px;box-shadow:0 10px 25px rgba(0,0,0,.3);} 
.table-card h2{color:#0a3d62;margin-bottom:20px;}

table{width:100%;border-collapse:collapse;}
th{background:#0a3d62;color:white;padding:12px;}
td{padding:12px;text-align:center;border-bottom:1px solid #ddd;}
tr:hover{background:#f1f9ff;}

/* ===== PROFESSIONAL ICON BUTTONS ===== */
.icon-btn{
 width:38px;
 height:38px;
 border-radius:50%;
 border:1px solid #ddd;
 background:white;
 cursor:pointer;
 font-size:15px;
 transition:.3s;
 box-shadow:0 2px 6px rgba(0,0,0,.15);
}

.icon-btn i{pointer-events:none;}

.edit-btn{color:#27ae60;}
.edit-btn:hover{
 background:#27ae60;
 color:white;
 transform:scale(1.15);
 box-shadow:0 4px 12px rgba(39,174,96,.4);
}

.delete-btn{color:#e74c3c;}
.delete-btn:hover{
 background:#e74c3c;
 color:white;
 transform:scale(1.15);
 box-shadow:0 4px 12px rgba(231,76,60,.4);
}

.tooltip{position:relative;}
.tooltip span{
 position:absolute;
 bottom:120%;
 left:50%;
 transform:translateX(-50%);
 background:#333;
 color:white;
 padding:4px 8px;
 font-size:12px;
 border-radius:4px;
 opacity:0;
 pointer-events:none;
 transition:.3s;
}
.tooltip:hover span{opacity:1;}
</style>
</head>
<body>

<div class="sidebar">
<h2><i class="fa-solid fa-building-columns"></i> MyBank</h2>
<a href="dashboard.html"><i class="fa fa-chart-line"></i> Dashboard</a>
<a href="create-account.html"><i class="fa fa-user-plus"></i> Create Account</a>
<a href="transaction.html"><i class="fa fa-money-bill-transfer"></i> Deposit</a>
<a href="withdraw.html"><i class="fa fa-hand-holding-dollar"></i> Withdraw</a>
<a href="analytics.html"><i class="fa fa-chart-pie"></i> Analytics</a>
<a href="index.html"><i class="fa fa-sign-out-alt"></i> Logout</a>
</div>

<div class="main">

<div class="cards">
<div class="card"><i class="fa fa-users"></i><h3>Total Accounts</h3><p id="totalAccounts">0</p></div>
<div class="card"><i class="fa fa-wallet"></i><h3>Total Balance</h3><p id="totalBalance">₹0</p></div>
<div class="card"><i class="fa fa-arrow-down"></i><h3>Total Deposits</h3><p id="totalDeposits">₹0</p></div>
<div class="card"><i class="fa fa-arrow-up"></i><h3>Total Withdrawals</h3><p id="totalWithdrawals">₹0</p></div>
</div>

<div class="table-card">
<h2><i class="fa fa-table"></i> Account Records</h2>
<table>
<thead>
<tr>
<th>Account No</th>
<th>Customer Name</th>
<th>Balance</th>
<th>Deposits</th>
<th>Withdrawals</th>
<th>Action</th>
</tr>
</thead>
<tbody id="tableData"></tbody>
</table>
</div>

</div>

<script>
let accounts = JSON.parse(localStorage.getItem("accounts")) || [];
let totalBal = 0, totalDep = 0, totalWith = 0;

accounts.forEach(acc => {
 totalBal += Number(acc.balance);
 totalDep += Number(acc.deposits);
 totalWith += Number(acc.withdrawals);

 let row = `
 <tr>
 <td>${acc.accNo}</td>
 <td>${acc.name}</td>
 <td>₹${acc.balance}</td>
 <td>₹${acc.deposits}</td>
 <td>₹${acc.withdrawals}</td>
 <td>
   <button class="icon-btn edit-btn tooltip" onclick="editAccount('${acc.accNo}')">
     <i class="fa fa-pen"></i>
     <span>Edit</span>
   </button>
   <button class="icon-btn delete-btn tooltip" onclick="removeAccount('${acc.accNo}')">
     <i class="fa fa-trash"></i>
     <span>Delete</span>
   </button>
 </td>
 </tr>`;

 document.getElementById("tableData").innerHTML += row;
});

function removeAccount(accNo){
 if(confirm("Are you sure you want to delete this account?")){
  accounts = accounts.filter(acc => acc.accNo != accNo);
  localStorage.setItem("accounts", JSON.stringify(accounts));
  location.reload();
 }
}

function editAccount(accNo){
 let acc = accounts.find(a => a.accNo == accNo);
 if(!acc) return;

 let newName = prompt("Edit Customer Name:", acc.name);
 let newBalance = prompt("Edit Balance:", acc.balance);

 if(newName !== null) acc.name = newName;
 if(newBalance !== null) acc.balance = Number(newBalance);

 localStorage.setItem("accounts", JSON.stringify(accounts));
 location.reload();
}

document.getElementById("totalAccounts").innerText = accounts.length;
document.getElementById("totalBalance").innerText = "₹" + totalBal;
document.getElementById("totalDeposits").innerText = "₹" + totalDep;
document.getElementById("totalWithdrawals").innerText = "₹" + totalWith;
</script>

</body>
</html>